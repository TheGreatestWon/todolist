# 실행 계획 (Execution Plan)

## 프로젝트: 개인 할 일 관리 시스템

**MVP 출시 목표:** 이번주 금요일 오후  
**개발 기간:** 3일

---

## 1. 데이터베이스 작업 (Database Tasks)

### Task 1.1: PostgreSQL 데이터베이스 설정
- **설명:** PostgreSQL 17 데이터베이스 서버 설정 및 초기화
- **의존성:** 없음
- **완료 조건:**
  - [ ] PostgreSQL 17 설치 또는 서버 연결 확인
  - [ ] 데이터베이스 생성 (todolist)
  - [ ] 사용자 계정 생성 및 권한 설정
  - [ ] 연결 테스트 성공

### Task 1.2: 스키마 생성
- **설명:** Users 및 Todos 테이블 생성
- **의존성:** Task 1.1
- **완료 조건:**
  - [ ] users 테이블 생성 (id, email, password_hash, created_at, updated_at)
  - [ ] todos 테이블 생성 (id, user_id, title, description, due_date, is_completed, created_at, updated_at)
  - [ ] PRIMARY KEY 제약 조건 설정
  - [ ] UNIQUE 제약 조건 (users.email) 설정
  - [ ] NOT NULL 제약 조건 설정
  - [ ] FOREIGN KEY 제약 조건 (todos.user_id → users.id) 설정
  - [ ] DEFAULT 값 설정 (is_completed: FALSE, timestamps: CURRENT_TIMESTAMP)

### Task 1.3: 인덱스 생성
- **설명:** 성능 최적화를 위한 인덱스 생성
- **의존성:** Task 1.2
- **완료 조건:**
  - [ ] idx_users_email 인덱스 생성
  - [ ] idx_todos_user_id 인덱스 생성
  - [ ] idx_todos_due_date 인덱스 생성
  - [ ] idx_todos_is_completed 인덱스 생성
  - [ ] idx_todos_user_completed 복합 인덱스 생성

### Task 1.4: 트리거 설정
- **설명:** updated_at 자동 갱신을 위한 트리거 설정
- **의존성:** Task 1.2
- **완료 조건:**
  - [ ] update_updated_at_column 함수 생성
  - [ ] users 테이블에 트리거 설정
  - [ ] todos 테이블에 트리거 설정
  - [ ] 트리거 작동 테스트 완료

---

## 2. 백엔드 작업 (Backend Tasks)

### Task 2.1: 프로젝트 초기 설정
- **설명:** Node.js/Express 프로젝트 구조 설정
- **의존성:** 없음
- **완료 조건:**
  - [ ] package.json 생성 및 의존성 설치 (express, pg, bcrypt, jsonwebtoken 등)
  - [ ] TypeScript 설정 (tsconfig.json)
  - [ ] 폴더 구조 생성 (controllers, routes, middleware, models, services, utils, config, types, validations)
  - [ ] 환경 변수 설정 (.env, .env.example)

### Task 2.2: 데이터베이스 연결 설정
- **설명:** PostgreSQL 데이터베이스 연결 설정
- **의존성:** Task 1.1
- **완료 조건:**
  - [ ] pg 라이브러리 설정
  - [ ] 데이터베이스 연결 풀 설정
  - [ ] 연결 테스트 성공
  - [ ] 연결 설정 파일(config/database.ts) 생성

### Task 2.3: 인증 미들웨어 개발
- **설명:** JWT 기반 인증 미들웨어 개발
- **의존성:** Task 2.1
- **완료 조건:**
  - [ ] JWT 생성/검증 유틸리티 함수 개발
  - [ ] 인증 미들웨어(authMiddleware) 개발
  - [ ] 토큰 검증 로직 구현
  - [ ] 미들웨어 테스트 완료

### Task 2.4: 비밀번호 해싱 구현
- **설명:** bcrypt를 사용한 비밀번호 해싱 구현
- **의존성:** Task 2.1
- **완료 조건:**
  - [ ] 비밀번호 해싱 유틸리티 함수 개발
  - [ ] 비밀번호 검증 유틸리티 함수 개발
  - [ ] 해싱 테스트 완료

### Task 2.5: 사용자 모델 및 서비스 개발
- **설명:** User 엔티티 관련 데이터베이스 작업 구현
- **의존성:** Task 2.2, Task 2.4
- **완료 조건:**
  - [ ] User 모델 정의
  - [ ] 사용자 생성 서비스 함수 구현
  - [ ] 이메일로 사용자 조회 함수 구현
  - [ ] 사용자 존재 여부 확인 함수 구현
  - [ ] 사용자 서비스 테스트 완료

### Task 2.6: 인증 API 개발
- **설명:** 회원가입 및 로그인 API 개발
- **의존성:** Task 2.3, Task 2.5
- **완료 조건:**
  - [ ] POST /api/auth/register 엔드포인트 구현
  - [ ] POST /api/auth/login 엔드포인트 구현
  - [ ] 입력 검증 로직 구현
  - [ ] API 테스트 완료
  - [ ] 오류 처리 로직 구현

### Task 2.7: 할 일 모델 및 서비스 개발
- **설명:** Todo 엔티티 관련 데이터베이스 작업 구현
- **의존성:** Task 2.2
- **완료 조건:**
  - [ ] Todo 모델 정의
  - [ ] 사용자별 할 일 조회 서비스 함수 구현
  - [ ] 할 일 생성 서비스 함수 구현
  - [ ] 할 일 수정 서비스 함수 구현
  - [ ] 할 일 삭제 서비스 함수 구현
  - [ ] 할 일 서비스 테스트 완료

### Task 2.8: 할 일 API 개발
- **설명:** 할 일 CRUD API 개발
- **의존성:** Task 2.3, Task 2.7
- **완료 조건:**
  - [ ] GET /api/todos 엔드포인트 구현
  - [ ] POST /api/todos 엔드포인트 구현
  - [ ] PUT /api/todos/:id 엔드포인트 구현
  - [ ] DELETE /api/todos/:id 엔드포인트 구현
  - [ ] 인가 검증 로직 구현 (사용자별 데이터 접근 제한)
  - [ ] API 테스트 완료

### Task 2.9: 입력 검증 미들웨어
- **설명:** API 입력 검증 미들웨어 구현
- **의존성:** Task 2.1
- **완료 조건:**
  - [ ] 인증 API 입력 검증 로직 구현
  - [ ] 할 일 API 입력 검증 로직 구현
  - [ ] 검증 오류 처리 로직 구현
  - [ ] 검증 테스트 완료

### Task 2.10: 오류 처리 미들웨어
- **설명:** 전역 오류 처리 미들웨어 구현
- **의존성:** Task 2.1
- **완료 조건:**
  - [ ] 전역 오류 처리 미들웨어 구현
  - [ ] API 오류 응답 형식 정의
  - [ ] 예외 상황 처리 로직 구현
  - [ ] 오류 로깅 로직 구현

---

## 3. 프론트엔드 작업 (Frontend Tasks)

### Task 3.1: 프로젝트 초기 설정
- **설명:** React 19 + TypeScript 프로젝트 구조 설정
- **의존성:** 없음
- **완료 조건:**
  - [ ] create-react-app 또는 Vite를 사용한 프로젝트 생성
  - [ ] TypeScript 설정 확인
  - [ ] 폴더 구조 생성 (components, pages, hooks, services, types, utils, styles, contexts)
  - [ ] 필요한 의존성 설치 (react-router-dom 등)

### Task 3.2: 라우팅 설정
- **설명:** React Router를 사용한 라우팅 설정
- **의존성:** Task 3.1
- **완료 조건:**
  - [ ] App.tsx에 라우터 설정
  - [ ] 로그인 페이지 라우트 설정
  - [ ] 회원가입 페이지 라우트 설정
  - [ ] 할 일 목록 페이지 라우트 설정
  - [ ] 인증되지 않은 사용자 보호 로직 구현

### Task 3.3: 인증 컨텍스트 구현
- **설명:** JWT 토큰 기반 인증 상태 관리 구현
- **의존성:** Task 3.1
- **완료 조건:**
  - [ ] AuthContext 생성
  - [ ] 로그인/로그아웃 함수 구현
  - [ ] 토큰 자동 갱신 로직 구현
  - [ ] 토큰 로컬 스토리지 저장/삭제 로직 구현

### Task 3.4: API 서비스 개발
- **설명:** 백엔드 API와 통신하는 서비스 개발
- **의존성:** Task 3.1
- **완료 조건:**
  - [ ] API 호출 공통 함수 구현 (fetch 또는 axios 기반)
  - [ ] 인증 헤더 자동 추가 로직 구현
  - [ ] 인증 API 서비스 함수 구현
  - [ ] 할 일 API 서비스 함수 구현
  - [ ] 오류 처리 로직 구현

### Task 3.5: 회원가입 페이지 개발
- **설명:** 사용자 회원가입 UI 개발
- **의존성:** Task 3.2, Task 3.4
- **완료 조건:**
  - [ ] 이메일 입력 필드 구현
  - [ ] 비밀번호 입력 필드 구현 (마스킹 처리)
  - [ ] 가입 버튼 구현
  - [ ] 로그인 페이지 링크 구현
  - [ ] 유효성 검증 UI 구현
  - [ ] 폼 제출 로직 구현
  - [ ] API 연동 및 응답 처리 구현

### Task 3.6: 로그인 페이지 개발
- **설명:** 사용자 로그인 UI 개발
- **의존성:** Task 3.2, Task 3.4
- **완료 조건:**
  - [ ] 이메일 입력 필드 구현
  - [ ] 비밀번호 입력 필드 구현 (마스킹 처리)
  - [ ] 로그인 버튼 구현
  - [ ] 회원가입 페이지 링크 구현
  - [ ] 오류 메시지 표시 구현
  - [ ] 폼 제출 로직 구현
  - [ ] API 연동 및 응답 처리 구현
  - [ ] 토큰 저장 및 리다이렉션 로직 구현

### Task 3.7: 할 일 목록 페이지 레이아웃 개발
- **설명:** 할 일 목록 페이지 기본 레이아웃 개발
- **의존성:** Task 3.2, Task 3.3, Task 3.4
- **완료 조건:**
  - [ ] 헤더 컴포넌트 구현 (앱 제목, 사용자 이메일, 로그아웃 버튼)
  - [ ] 할 일 추가 폼 영역 구현
  - [ ] 할 일 목록 표시 영역 구현
  - [ ] 로딩 상태 표시 구현
  - [ ] 오류 상태 표시 구현

### Task 3.8: 할 일 추가 기능 구현
- **설명:** 할 일 추가 UI 및 기능 구현
- **의존성:** Task 3.7
- **완료 조건:**
  - [ ] 제목 입력 필드 구현
  - [ ] 설명 입력 필드 구현 (선택 사항)
  - [ ] 마감일 선택기 구현
  - [ ] 추가 버튼 구현
  - [ ] 폼 제출 로직 구현
  - [ ] API 연동 및 응답 처리 구현
  - [ ] 폼 초기화 로직 구현

### Task 3.9: 할 일 목록 조회 및 표시 기능 구현
- **설명:** 사용자 할 일 목록 조회 및 표시 기능 구현
- **의존성:** Task 3.7
- **완료 조건:**
  - [ ] 할 일 목록 API 호출 구현
  - [ ] 할 일 목록 렌더링 구현
  - [ ] 각 할 일 항목 표시 구현
  - [ ] 빈 목록 시 메시지 표시 구현
  - [ ] 로딩 상태 표시 구현

### Task 3.10: 할 일 수정 기능 구현
- **설명:** 할 일 수정 UI 및 기능 구현
- **의존성:** Task 3.9
- **완료 조건:**
  - [ ] 수정 모드 토글 기능 구현
  - [ ] 수정 폼 UI 구현
  - [ ] 수정 폼 제출 로직 구현
  - [ ] API 연동 및 응답 처리 구현
  - [ ] 수정 취소 기능 구현

### Task 3.11: 할 일 삭제 기능 구현
- **설명:** 할 일 삭제 UI 및 기능 구현
- **의존성:** Task 3.9
- **완료 조건:**
  - [ ] 삭제 버튼 UI 구현
  - [ ] 삭제 확인 대화상자 구현
  - [ ] 삭제 API 호출 로직 구현
  - [ ] 삭제 후 목록 갱신 로직 구현

### Task 3.12: 할 일 완료 처리 기능 구현
- **설명:** 할 일 완료/미완료 전환 기능 구현
- **의존성:** Task 3.9
- **완료 조건:**
  - [ ] 완료 체크박스 UI 구현
  - [ ] 체크박스 클릭 이벤트 처리 로직 구현
  - [ ] API 연동 및 응답 처리 구현
  - [ ] 상태 즉시 반영 로직 구현
  - [ ] 완료된 항목 시각적 표시 구현 (취소선, 회색 등)

### Task 3.13: 할 일 분류 및 정렬 기능 구현
- **설명:** 기한 경과, 오늘, 예정된 할 일 분류 및 정렬 기능 구현
- **의존성:** Task 3.9, Task 3.12
- **완료 조건:**
  - [ ] 기한 경과 할 일 분류 로직 구현
  - [ ] 오늘 할 일 분류 로직 구현
  - [ ] 예정된 할 일 분류 로직 구현
  - [ ] 마감일 없는 할 일 분류 로직 구현
  - [ ] 우선순위 기반 정렬 로직 구현
  - [ ] 분류별 섹션 UI 구현
  - [ ] 기한 경과 항목 시각적 강조 구현 (빨간색 등)

### Task 3.14: 완료된 할 일 섹션 구현
- **설명:** 완료된 할 일 분리 표시 및 접기/펼치기 기능 구현
- **의존성:** Task 3.12, Task 3.13
- **완료 조건:**
  - [ ] 완료된 할 일 분리 로직 구현
  - [ ] 접기/펼치기 토글 UI 구현
  - [ ] 완료 섹션 표시/숨김 기능 구현
  - [ ] 완료된 할 일 시각적 표시 구현 (회색, 취소선 등)

### Task 3.15: 반응형 디자인 구현
- **설명:** 모바일 및 데스크탑 환경 대응 구현
- **의존성:** Task 3.7~Task 3.14
- **완료 조건:**
  - [ ] 모바일 화면(320px) 대응 구현
  - [ ] 태블릿 화면(768px) 대응 구현
  - [ ] 데스크탑 화면(1024px 이상) 대응 구현
  - [ ] 터치 타겟 크기(44x44px 이상) 확보
  - [ ] 모바일 최적화 UI 구현

---

## 4. 통합 및 테스트 작업 (Integration & Testing Tasks)

### Task 4.1: 백엔드 API 통합 테스트
- **설명:** 모든 백엔드 API 엔드포인트 통합 테스트
- **의존성:** Task 2.6, Task 2.8
- **완료 조건:**
  - [ ] 회원가입 API 테스트
  - [ ] 로그인 API 테스트
  - [ ] 할 일 CRUD API 테스트
  - [ ] 인가 검증 테스트
  - [ ] 오류 상황 테스트

### Task 4.2: 프론트엔드-백엔드 연동 테스트
- **설명:** 프론트엔드와 백엔드 간 연동 테스트
- **의존성:** Task 3.15, Task 4.1
- **완료 조건:**
  - [ ] 회원가입 프로세스 테스트
  - [ ] 로그인 프로세스 테스트
  - [ ] 할 일 CRUD 프로세스 테스트
  - [ ] 인증 상태 유지 테스트
  - [ ] 오류 상황 처리 테스트

### Task 4.3: 사용자 시나리오 테스트
- **설명:** 문서에 명시된 사용자 시나리오 기반 테스트
- **의존성:** Task 4.2
- **완료 조건:**
  - [ ] 회원가입 및 로그인 시나리오 테스트
  - [ ] 할 일 생성/수정/삭제 시나리오 테스트
  - [ ] 완료 처리 시나리오 테스트
  - [ ] 기한 경과 표시 시나리오 테스트
  - [ ] 완료 목록 확인 시나리오 테스트

### Task 4.4: 크로스 브라우저 테스트
- **설명:** 주요 브라우저에서 동작 확인
- **의존성:** Task 4.2
- **완료 조건:**
  - [ ] Chrome에서 동작 확인
  - [ ] Firefox에서 동작 확인
  - [ ] Safari에서 동작 확인
  - [ ] Edge에서 동작 확인
  - [ ] iOS Safari에서 동작 확인
  - [ ] Android Chrome에서 동작 확인

### Task 4.5: 성능 테스트
- **설명:** 성능 요구사항 충족 확인
- **의존성:** Task 4.2
- **완료 조건:**
  - [ ] 할 일 목록 로딩 시간 2초 이내 확인
  - [ ] 할 일 생성/수정/삭제 응답 시간 1초 이내 확인
  - [ ] 페이지 전환 시간 1초 이내 확인
  - [ ] API 응답 시간 확인

---

## 5. 배포 준비 작업 (Deployment Preparation Tasks)

### Task 5.1: Vercel 배포 설정
- **설명:** 프론트엔드 및 백엔드 Vercel 배포 설정
- **의존성:** Task 4.5
- **완료 조건:**
  - [ ] 프론트엔드 vercel.json 설정
  - [ ] 백엔드 vercel.json 설정
  - [ ] 환경 변수 설정 확인
  - [ ] 빌드 설정 확인

### Task 5.2: 프로덕션 배포
- **설명:** 실제 프로덕션 환경에 배포
- **의존성:** Task 5.1
- **완료 조건:**
  - [ ] 프론트엔드 배포 성공
  - [ ] 백엔드 배포 성공
  - [ ] 도메인 연결 확인
  - [ ] HTTPS 적용 확인

### Task 5.3: 최종 테스트
- **설명:** 배포된 환경에서 최종 기능 검증
- **의존성:** Task 5.2
- **완료 조건:**
  - [ ] 모든 기능 정상 작동 확인
  - [ ] 보안 설정 확인
  - [ ] 성능 기준 충족 확인
  - [ ] 사용자 인수 테스트 통과

---

## 6. 일정 계획 (Timeline)

### Day 1: 백엔드 및 데이터베이스 구축
- **오전 (4시간):**
  - [ ] Task 1.1: PostgreSQL 데이터베이스 설정
  - [ ] Task 1.2: 스키마 생성
  - [ ] Task 2.1: 프로젝트 초기 설정
  - [ ] Task 2.2: 데이터베이스 연결 설정

- **오후 (4시간):**
  - [ ] Task 2.3: 인증 미들웨어 개발
  - [ ] Task 2.4: 비밀번호 해싱 구현
  - [ ] Task 2.5: 사용자 모델 및 서비스 개발
  - [ ] Task 2.6: 인증 API 개발
  - [ ] Task 2.7: 할 일 모델 및 서비스 개발
  - [ ] Task 2.8: 할 일 API 개발

### Day 2: 프론트엔드 개발
- **오전 (4시간):**
  - [ ] Task 3.1: 프로젝트 초기 설정
  - [ ] Task 3.2: 라우팅 설정
  - [ ] Task 3.3: 인증 컨텍스트 구현
  - [ ] Task 3.4: API 서비스 개발

- **오후 (4시간):**
  - [ ] Task 3.5: 회원가입 페이지 개발
  - [ ] Task 3.6: 로그인 페이지 개발
  - [ ] Task 3.7: 할 일 목록 페이지 레이아웃 개발
  - [ ] Task 3.8: 할 일 추가 기능 구현
  - [ ] Task 3.9: 할 일 목록 조회 및 표시 기능 구현

### Day 3: 통합, 테스트 및 배포
- **오전 (4시간):**
  - [ ] Task 3.10: 할 일 수정 기능 구현
  - [ ] Task 3.11: 할 일 삭제 기능 구현
  - [ ] Task 3.12: 할 일 완료 처리 기능 구현
  - [ ] Task 3.13: 할 일 분류 및 정렬 기능 구현
  - [ ] Task 3.14: 완료된 할 일 섹션 구현
  - [ ] Task 3.15: 반응형 디자인 구현

- **오후 (4시간):**
  - [ ] Task 4.1: 백엔드 API 통합 테스트
  - [ ] Task 4.2: 프론트엔드-백엔드 연동 테스트
  - [ ] Task 4.3: 사용자 시나리오 테스트
  - [ ] Task 5.1: Vercel 배포 설정
  - [ ] Task 5.2: 프로덕션 배포
  - [ ] Task 5.3: 최종 테스트

---

## 7. 위험 요소 및 완화 방안

### 위험 1: 타이트한 일정
- **완화 방안:** MVP 범위 엄격 준수, 핵심 기능 우선 구현

### 위험 2: API 연동 문제
- **완화 방안:** Mock 데이터로 프론트엔드 개발 병행, API 명세서 사전 공유

### 위험 3: 보안 취약점
- **완화 방안:** JWT 및 bcrypt 등 입증된 라이브러리 사용, 입력 검증 철저히

### 위험 4: 데이터베이스 성능
- **완화 방안:** 사전에 인덱스 설계, N+1 문제 방지

### 위험 5: 배포 문제
- **완화 방안:** 사전에 배포 테스트, 환경 변수 사전 준비