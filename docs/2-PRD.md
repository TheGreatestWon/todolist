# PRD (Product Requirements Document)
# Personal Todo Management System

**문서 버전:** 1.0
**작성일:** 2026-02-11
**MVP 출시 목표:** 이번주 금요일 오후
**개발 기간:** 3일

---

## 1. 프로젝트 개요 (Executive Summary)

### 1.1 프로젝트 목적
개인 사용자가 매일의 할 일을 효과적으로 관리하고, **지금 무엇을 해야 하는지**, **이미 늦은 일은 무엇인지**, **완료한 일과 남은 일을 명확히 구분**할 수 있는 개인용 할 일 관리 시스템을 개발한다.

### 1.2 비전
마감일과 상태 중심으로 사고할 수 있는, 직관적이고 안전한 개인 일정 관리 도구를 제공한다.

### 1.3 타겟 사용자
- **주요 타겟:** 일반인 모두
- **사용 디바이스:** 데스크탑 및 모바일 (반응형 UI 필수)
- **초기 예상 사용자:** 100명 이하로 시작, 3개월마다 2배씩 증량

---

## 2. 프로젝트 범위 (Scope)

### 2.1 MVP에 포함되는 핵심 기능
1. 회원 가입
2. 로그인 및 로그아웃
3. 할 일 추가
4. 할 일 수정
5. 할 일 삭제
6. 할 일 완료/미완료 처리
7. 마감일 기반 상태 자동 판단 (오늘/예정/기한경과)
8. 할 일 정렬 및 분류

**중요:** 위 모든 기능은 로그인한 사용자만 사용 가능

### 2.2 MVP에서 제외되는 기능
- 할 일 공유 및 협업
- 카테고리, 태그, 우선순위 레벨
- 반복 일정
- 알림, 푸시, 리마인더
- 댓글, 첨부파일
- 통계, 분석 기능
- 다중 리스트 관리

---

## 3. 도메인 핵심 개념

### 3.1 주요 엔티티

**User (사용자)**
- 시스템에 등록된 개인 사용자
- 자신의 할 일 목록을 소유
- 인증을 통해 시스템 접근

**Todo (할 일)**
- 사용자가 수행해야 하는 단일 작업 단위
- 제목, 설명, 마감일, 완료 상태를 가짐
- 반드시 한 명의 사용자에게 소속됨

### 3.2 핵심 비즈니스 규칙

**BR-001: 회원 가입 개방**
누구나 회원으로 등록할 수 있다.

**BR-002: 인증 필수**
인증된 사용자만 Todo를 관리할 수 있다.

**BR-003: 소유권 기반 접근**
사용자는 자신의 Todo만 조회, 수정, 삭제할 수 있다.

**BR-004: Todo 생성 규칙**
- 제목은 필수이다.
- 생성 시 상태는 Incomplete이다.
- 모든 Todo는 기본 리스트에 속한다.

**BR-005: Todo 수정**
제목, 설명, 마감일은 수정 가능하며, 수정 시점은 자동 기록된다.

**BR-006: Todo 삭제**
삭제된 Todo는 복구할 수 없다.

**BR-007: 완료 처리**
Incomplete ↔ Completed 전환이 가능하다.

**BR-008: 마감일 선택성**
마감일은 선택 사항이다.

**BR-009: 기한 경과 판단**
- 현재 날짜 > 마감일 AND 상태 = Incomplete → Overdue
- Completed 상태는 Overdue로 간주하지 않는다.
- 마감일 없는 Todo는 Overdue가 아니다.

**BR-010: 마감일 해상도**
마감일은 날짜 단위(YYYY-MM-DD)로만 관리하며, 시간은 고려하지 않는다.

**BR-011: Todo 분류 기준**
- **오늘 할 일:** 마감일이 오늘이고 Incomplete인 Todo
- **예정된 할 일:** 마감일이 오늘 이후이고 Incomplete인 Todo
- **기한 경과:** 마감일이 오늘 이전이고 Incomplete인 Todo

**BR-012: 기본 정렬 우선순위**
1. Overdue Todo (기한 경과)
2. 마감일이 가장 빠른 Todo
3. 마감일이 없는 Todo
4. 생성 시점이 빠른 Todo

**BR-013: 완료 Todo 분리 표시**
Completed 상태의 Todo는 기본 목록에서 분리하여 표시한다.

---

## 4. 기능 요구사항 (Functional Requirements)

### FR-001: 회원 가입

**설명:**
새로운 사용자가 이메일과 비밀번호를 사용하여 계정을 생성할 수 있다.

**입력:**
- 이메일 (필수, 유효한 형식)
- 비밀번호 (필수, 최소 8자)

**출력:**
- 가입 성공 시: 로그인 페이지로 리다이렉트
- 가입 실패 시: 명확한 오류 메시지 표시

**비즈니스 규칙:** BR-001

---

### FR-002: 로그인

**설명:**
등록된 사용자가 이메일과 비밀번호로 인증하여 시스템에 접근할 수 있다.

**입력:**
- 이메일
- 비밀번호

**출력:**
- 로그인 성공 시: JWT 토큰 발급 및 할 일 목록 페이지로 이동
- 로그인 실패 시: "이메일 또는 비밀번호가 올바르지 않습니다" 메시지

**추가 기능:**
- 로그아웃 기능 제공
- 세션 유지 (브라우저 종료 후에도 로그인 상태 유지)
- 인증되지 않은 사용자의 보호된 페이지 접근 시 로그인 페이지로 리다이렉트

**비즈니스 규칙:** BR-002

---

### FR-003: 할 일 생성

**설명:**
인증된 사용자가 새로운 할 일을 생성할 수 있다.

**입력:**
- 제목 (필수, 최대 200자)
- 설명 (선택, 최대 1000자)
- 마감일 (선택, 날짜 형식)

**처리:**
- 생성 시 자동으로 Incomplete 상태로 설정
- 생성 시점 자동 기록
- 현재 로그인한 사용자에게 소유권 할당

**출력:**
- 생성 성공 시: 새 할 일이 목록에 즉시 표시
- 입력 폼 초기화

**비즈니스 규칙:** BR-004, BR-008, BR-010

---

### FR-004: 할 일 조회

**설명:**
사용자가 자신의 할 일 목록을 조회할 수 있다.

**조회 범위:**
- 로그인한 사용자 자신의 할 일만 조회 가능

**표시 정보:**
- 제목, 설명, 마감일, 완료 상태
- 기한 경과 여부 표시
- 생성 및 수정 시점

**분류 및 정렬:**
- 미완료 할 일과 완료 할 일 분리 표시
- 미완료 할 일은 우선순위에 따라 정렬
- 기한 경과 할 일은 시각적으로 강조 (빨간색 계열)

**비즈니스 규칙:** BR-003, BR-009, BR-011, BR-012, BR-013

---

### FR-005: 할 일 수정

**설명:**
사용자가 자신의 할 일 정보를 수정할 수 있다.

**수정 가능 항목:**
- 제목 (빈 값 불가)
- 설명
- 마감일
- 완료 상태

**처리:**
- 수정 시점 자동 기록
- 수정 사항 즉시 반영

**제약:**
- 자신의 할 일만 수정 가능
- 완료된 할 일도 수정 가능

**비즈니스 규칙:** BR-003, BR-005

---

### FR-006: 할 일 삭제

**설명:**
사용자가 자신의 할 일을 영구적으로 삭제할 수 있다.

**처리:**
- 삭제 전 확인 대화상자 표시
- 확인 시 데이터베이스에서 영구 삭제
- 삭제 후 목록 즉시 업데이트

**제약:**
- 자신의 할 일만 삭제 가능
- 삭제된 할 일은 복구 불가

**비즈니스 규칙:** BR-003, BR-006

---

### FR-007: 할 일 완료 처리

**설명:**
사용자가 할 일의 완료 상태를 전환할 수 있다.

**기능:**
- 미완료(Incomplete) → 완료(Completed) 전환
- 완료(Completed) → 미완료(Incomplete) 전환

**UI 동작:**
- 체크박스 클릭으로 상태 전환
- 완료된 할 일은 시각적 구분 (취소선, 회색 처리)
- 상태 변경 즉시 반영

**분류:**
- 완료된 할 일은 별도 영역으로 이동
- 완료된 할 일은 기한 경과로 표시되지 않음

**비즈니스 규칙:** BR-007, BR-009, BR-013

---

### FR-008: 기한 경과 자동 판단

**설명:**
시스템이 할 일의 마감일과 현재 날짜를 자동으로 비교하여 상태를 판단한다.

**판단 로직:**
- **기한 경과(Overdue):** 마감일 < 오늘 AND 상태 = Incomplete
- **오늘 할 일(Today):** 마감일 = 오늘 AND 상태 = Incomplete
- **예정된 할 일(Upcoming):** 마감일 > 오늘 AND 상태 = Incomplete
- **마감일 없음:** 일반 Incomplete로 취급

**예외:**
- 완료된 할 일은 마감일과 관계없이 기한 경과 아님
- 마감일 없는 할 일은 기한 경과 아님

**날짜 기준:**
- 사용자 로컬 날짜 기준
- 날짜 단위로만 비교 (시간 제외)

**비즈니스 규칙:** BR-009, BR-010, BR-011

---

## 5. 비기능적 요구사항 (Non-Functional Requirements)

### 5.1 성능 요구사항

**NFR-001: 응답 시간**
- 할 일 목록 로딩: 2초 이내
- 할 일 생성/수정/삭제: 1초 이내
- 페이지 전환: 1초 이내

**NFR-002: 확장성**
- 초기 사용자 100명 안정적 지원
- 사용자당 최소 1000개 할 일 관리 가능

### 5.2 보안 요구사항

**NFR-003: 인증 및 권한**
- 비밀번호 bcrypt 암호화 저장
- JWT 기반 인증
- 모든 API 요청 토큰 검증

**NFR-004: 데이터 보안**
- SQL Injection 방어 (파라미터화된 쿼리)
- XSS 방어 (입력값 검증 및 이스케이프)
- HTTPS 사용 (배포 환경)

**NFR-005: 접근 제어**
- 사용자별 데이터 완전 격리
- 타 사용자 데이터 접근 차단

### 5.3 사용성 요구사항

**NFR-006: 반응형 디자인**
- 모바일 및 데스크탑 지원
- 최소 화면 해상도: 320px
- 터치 인터페이스 최적화

**NFR-007: 직관성**
- 별도 교육 없이 사용 가능한 UI
- 명확한 시각적 피드백
- 일관된 인터페이스 디자인

### 5.4 가용성 요구사항

**NFR-008: 서비스 안정성**
- 가동률 95% 이상 목표
- 적절한 오류 메시지 제공
- 예외 상황 처리

### 5.5 호환성 요구사항

**NFR-009: 브라우저 지원**
- Chrome, Firefox, Safari, Edge 최신 버전
- iOS Safari, Android Chrome 모바일 브라우저

---

## 6. 기술 스택 (Technology Stack)

### 6.1 아키텍처
3-티어 구조의 웹 애플리케이션
- 프레젠테이션 계층: React 프론트엔드
- 비즈니스 로직 계층: Express 백엔드
- 데이터 계층: PostgreSQL 데이터베이스

### 6.2 프론트엔드
- **프레임워크:** React 19
- **언어:** TypeScript
- **상태 관리:** React Hooks (Context API)
- **HTTP 클라이언트:** fetch API 또는 axios
- **스타일링:** CSS Modules 또는 Styled Components

### 6.3 백엔드
- **런타임:** Node.js
- **프레임워크:** Express
- **데이터베이스 클라이언트:** pg (PostgreSQL 전용)
- **인증:** JWT (JSON Web Token)
- **비밀번호 암호화:** bcrypt

**중요:** Prisma 사용 금지 - pg 라이브러리 직접 사용

### 6.4 데이터베이스
- **DBMS:** PostgreSQL 17
- **스키마 관리:** SQL 스크립트 직접 작성

### 6.5 배포
- **플랫폼:** Vercel
- **환경:** Production
- **환경 변수:** Vercel 대시보드에서 관리

### 6.6 개발 도구
- **버전 관리:** Git
- **패키지 매니저:** npm
- **IDE:** VS Code (권장)
- **API 테스트:** Postman 또는 Thunder Client

---

## 7. 데이터 모델 (Data Model)

### 7.1 ERD 관계
```
User (1) ----< (N) Todo
```

### 7.2 Users 테이블

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_users_email ON users(email);
```

**컬럼 설명:**
- `id`: 사용자 고유 식별자 (자동 증가)
- `email`: 사용자 이메일 (로그인 ID, 유일값)
- `password_hash`: bcrypt로 암호화된 비밀번호
- `created_at`: 계정 생성 시각
- `updated_at`: 계정 정보 수정 시각

**제약 조건:**
- `email`은 UNIQUE 제약
- `email`, `password_hash`는 NOT NULL

### 7.3 Todos 테이블

```sql
CREATE TABLE todos (
  id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(200) NOT NULL,
  description TEXT,
  due_date DATE,
  is_completed BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_todos_user_id ON todos(user_id);
CREATE INDEX idx_todos_due_date ON todos(due_date);
CREATE INDEX idx_todos_is_completed ON todos(is_completed);
CREATE INDEX idx_todos_user_completed ON todos(user_id, is_completed);
```

**컬럼 설명:**
- `id`: 할 일 고유 식별자 (자동 증가)
- `user_id`: 소유자 사용자 ID (외래키)
- `title`: 할 일 제목 (최대 200자)
- `description`: 할 일 상세 설명 (선택)
- `due_date`: 마감일 (날짜만, 시간 제외, 선택)
- `is_completed`: 완료 여부 (기본값 FALSE)
- `created_at`: 생성 시각
- `updated_at`: 수정 시각

**제약 조건:**
- `user_id`는 users 테이블 참조, CASCADE 삭제
- `title`은 NOT NULL
- `is_completed` 기본값 FALSE

**인덱스:**
- 사용자별 조회 최적화
- 마감일 정렬 최적화
- 완료 상태 필터링 최적화
- 복합 인덱스로 사용자별 완료 상태 조회 최적화

---

## 8. API 명세 (API Specification)

### 8.1 API 기본 정보

**Base URL:** `/api`
**인증 방식:** Bearer Token (JWT)
**Content-Type:** `application/json`

### 8.2 인증 API

#### POST /api/auth/register
회원 가입

**요청:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**응답 (201 Created):**
```json
{
  "message": "User registered successfully"
}
```

**응답 (400 Bad Request):**
```json
{
  "error": "Email already exists"
}
```

**응답 (422 Unprocessable Entity):**
```json
{
  "error": "Invalid email format"
}
```

---

#### POST /api/auth/login
로그인

**요청:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**응답 (200 OK):**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "email": "user@example.com"
  }
}
```

**응답 (401 Unauthorized):**
```json
{
  "error": "Invalid email or password"
}
```

---

### 8.3 할 일 API

**인증 헤더 (모든 요청 필수):**
```
Authorization: Bearer {jwt_token}
```

#### GET /api/todos
할 일 목록 조회

**응답 (200 OK):**
```json
{
  "todos": [
    {
      "id": 1,
      "user_id": 1,
      "title": "프로젝트 기획서 작성",
      "description": "PRD 문서 작성 및 검토",
      "due_date": "2026-02-15",
      "is_completed": false,
      "created_at": "2026-02-11T10:00:00Z",
      "updated_at": "2026-02-11T10:00:00Z"
    },
    {
      "id": 2,
      "title": "회의 준비",
      "description": null,
      "due_date": null,
      "is_completed": true,
      "created_at": "2026-02-10T09:00:00Z",
      "updated_at": "2026-02-11T11:30:00Z"
    }
  ]
}
```

**응답 (401 Unauthorized):**
```json
{
  "error": "Authentication required"
}
```

---

#### POST /api/todos
할 일 생성

**요청:**
```json
{
  "title": "새로운 할 일",
  "description": "상세 설명 (선택)",
  "due_date": "2026-02-20"
}
```

**응답 (201 Created):**
```json
{
  "todo": {
    "id": 3,
    "user_id": 1,
    "title": "새로운 할 일",
    "description": "상세 설명 (선택)",
    "due_date": "2026-02-20",
    "is_completed": false,
    "created_at": "2026-02-11T12:00:00Z",
    "updated_at": "2026-02-11T12:00:00Z"
  }
}
```

**응답 (400 Bad Request):**
```json
{
  "error": "Title is required"
}
```

---

#### PUT /api/todos/:id
할 일 수정

**요청:**
```json
{
  "title": "수정된 제목",
  "description": "수정된 설명",
  "due_date": "2026-02-25",
  "is_completed": true
}
```

**응답 (200 OK):**
```json
{
  "todo": {
    "id": 1,
    "user_id": 1,
    "title": "수정된 제목",
    "description": "수정된 설명",
    "due_date": "2026-02-25",
    "is_completed": true,
    "created_at": "2026-02-11T10:00:00Z",
    "updated_at": "2026-02-11T13:00:00Z"
  }
}
```

**응답 (403 Forbidden):**
```json
{
  "error": "Access denied"
}
```

**응답 (404 Not Found):**
```json
{
  "error": "Todo not found"
}
```

---

#### DELETE /api/todos/:id
할 일 삭제

**응답 (200 OK):**
```json
{
  "message": "Todo deleted successfully"
}
```

**응답 (403 Forbidden):**
```json
{
  "error": "Access denied"
}
```

**응답 (404 Not Found):**
```json
{
  "error": "Todo not found"
}
```

---

## 9. 사용자 인터페이스 (UI Requirements)

### 9.1 페이지 구성

#### 회원가입 페이지 (/register)
- 이메일 입력 필드
- 비밀번호 입력 필드 (마스킹 처리)
- 가입 버튼
- 로그인 페이지 링크
- 유효성 검증 에러 메시지 영역

#### 로그인 페이지 (/login)
- 이메일 입력 필드
- 비밀번호 입력 필드 (마스킹 처리)
- 로그인 버튼
- 회원가입 페이지 링크
- 에러 메시지 영역

#### 할 일 목록 페이지 (/todos) - 메인 페이지
**헤더 영역:**
- 애플리케이션 제목/로고
- 사용자 이메일 표시
- 로그아웃 버튼

**할 일 추가 영역:**
- 제목 입력 필드
- 설명 입력 필드 (확장 가능)
- 마감일 선택기 (Date Picker)
- 추가 버튼

**미완료 할 일 목록:**
- 기한 경과 섹션 (빨간색 강조)
- 오늘 할 일 섹션 (주황색 강조)
- 예정된 할 일 섹션
- 마감일 없는 할 일 섹션

**완료된 할 일 섹션:**
- 접기/펼치기 토글 버튼
- 완료된 할 일 목록 (회색 처리)

### 9.2 할 일 카드 UI

각 할 일 항목은 다음 요소를 포함:
- 완료 체크박스 (좌측)
- 제목 (굵은 글씨)
- 설명 (있는 경우, 작은 글씨)
- 마감일 표시 (아이콘 + 날짜)
- 편집 버튼 (연필 아이콘)
- 삭제 버튼 (휴지통 아이콘)

**상태별 스타일:**
- 미완료: 기본 색상
- 완료: 회색, 제목에 취소선
- 기한 경과: 빨간색 테두리 또는 배경

### 9.3 색상 가이드

- **Primary Color:** #007AFF (파란색 - 버튼, 링크)
- **Success Color:** #34C759 (녹색 - 완료)
- **Warning Color:** #FF9500 (주황색 - 오늘)
- **Danger Color:** #FF3B30 (빨간색 - 기한 경과)
- **Gray Color:** #8E8E93 (회색 - 완료된 항목)
- **Background:** #F2F2F7 (연한 회색)
- **Text Primary:** #000000
- **Text Secondary:** #8E8E93

### 9.4 반응형 브레이크포인트

- **Mobile:** 320px ~ 767px
- **Tablet:** 768px ~ 1023px
- **Desktop:** 1024px 이상

**모바일 최적화:**
- 터치 타겟 최소 44x44px
- 큰 버튼과 입력 필드
- 스와이프 제스처 지원 고려

---

## 10. 일정 및 마일스톤 (Timeline & Milestones)

### 개발 기간: 3일
**MVP 출시 목표:** 이번주 금요일 오후

### Day 1: 백엔드 및 데이터베이스 구축

**오전 (4시간):**
- [ ] 프로젝트 초기 설정
- [ ] PostgreSQL 데이터베이스 설정
- [ ] 데이터베이스 스키마 생성 (users, todos 테이블)
- [ ] Express 서버 기본 구조 설정

**오후 (4시간):**
- [ ] 회원가입 API 개발 (POST /api/auth/register)
- [ ] 로그인 API 개발 (POST /api/auth/login)
- [ ] JWT 인증 미들웨어 구현
- [ ] 할 일 CRUD API 개발
  - GET /api/todos
  - POST /api/todos
  - PUT /api/todos/:id
  - DELETE /api/todos/:id
- [ ] Postman으로 API 테스트

---

### Day 2: 프론트엔드 개발

**오전 (4시간):**
- [ ] React + TypeScript 프로젝트 초기 설정
- [ ] 라우팅 설정 (React Router)
- [ ] 회원가입 페이지 개발
- [ ] 로그인 페이지 개발
- [ ] 인증 Context 및 상태 관리 구현
- [ ] 로컬스토리지에 JWT 토큰 저장

**오후 (4시간):**
- [ ] 할 일 목록 페이지 레이아웃 개발
- [ ] 할 일 추가 폼 구현
- [ ] 할 일 목록 조회 및 표시
- [ ] 할 일 수정 기능 구현
- [ ] 할 일 삭제 기능 구현
- [ ] 완료 처리 체크박스 구현
- [ ] API 연동 (fetch 또는 axios)

---

### Day 3: 통합, 테스트 및 배포

**오전 (4시간):**
- [ ] 기한 경과 자동 판단 로직 구현
- [ ] 할 일 분류 및 정렬 로직 구현
- [ ] 완료/미완료 섹션 분리 표시
- [ ] UI 스타일링 및 색상 적용
- [ ] 반응형 디자인 구현
- [ ] 모바일 화면 최적화

**오후 (4시간):**
- [ ] 전체 기능 통합 테스트
- [ ] 인수 기준 검증 (체크리스트 확인)
- [ ] 크로스 브라우저 테스트
- [ ] 모바일 디바이스 테스트
- [ ] Vercel 배포 설정
- [ ] 환경 변수 설정 (데이터베이스 URL, JWT Secret)
- [ ] 프로덕션 배포
- [ ] 배포 환경 최종 테스트

**최종 점검:**
- [ ] 모든 API 엔드포인트 정상 작동 확인
- [ ] 인증 및 권한 검증 확인
- [ ] UI/UX 최종 검토
- [ ] 성능 테스트 (로딩 시간 확인)

---

## 11. 리스크 및 완화 방안 (Risks & Mitigation)

### 리스크 1: 타이트한 일정 (3일)
**영향도:** 높음
**발생 가능성:** 높음

**완화 방안:**
- MVP 범위를 엄격히 준수하고 추가 기능 개발 금지
- Day별 마일스톤을 명확히 설정하고 진행 상황 실시간 모니터링
- 블로킹 이슈 발생 시 즉시 해결 또는 우회
- 병렬 작업 가능한 부분 파악 (예: API 완성 전 Mock 데이터로 프론트엔드 개발)

### 리스크 2: 보안 취약점
**영향도:** 높음
**발생 가능성:** 중간

**완화 방안:**
- 입증된 라이브러리 사용 (bcrypt, jsonwebtoken)
- SQL Injection 방어: 파라미터화된 쿼리 사용 (pg 라이브러리의 prepared statement)
- XSS 방어: 입력값 검증, 출력 시 이스케이프 처리
- JWT Secret을 환경 변수로 관리하고 절대 하드코딩하지 않음
- HTTPS 사용 (Vercel 자동 제공)

### 리스크 3: 크로스 브라우저 호환성
**영향도:** 중간
**발생 가능성:** 중간

**완화 방안:**
- React 19의 브라우저 호환성 문서 확인
- 최신 브라우저를 타겟으로 하므로 큰 문제 없을 것으로 예상
- 배포 전 Chrome, Firefox, Safari, Edge에서 테스트
- 필요 시 Polyfill 추가 (core-js 등)

### 리스크 4: 데이터베이스 성능 저하
**영향도:** 중간
**발생 가능성:** 낮음

**완화 방안:**
- 적절한 인덱스 사전 생성 (user_id, due_date, is_completed)
- 초기 사용자 규모가 100명 이하로 작으므로 성능 문제 발생 가능성 낮음
- N+1 쿼리 문제 발생하지 않도록 주의
- 향후 사용자 증가 시 쿼리 최적화 및 캐싱 전략 수립

### 리스크 5: Vercel 배포 실패
**영향도:** 높음
**발생 가능성:** 낮음

**완화 방안:**
- Vercel 문서에 따라 정확한 설정 수행
- 환경 변수 미리 준비 (DATABASE_URL, JWT_SECRET)
- 로컬에서 빌드 테스트 먼저 수행
- Vercel CLI로 배포 전 프리뷰 배포 테스트

---

## 12. 성공 지표 (Success Metrics)

### 12.1 출시 기준 (Launch Criteria)

**기능 완성도:**
- [ ] 모든 MVP 핵심 기능 구현 완료
- [ ] 모든 인수 기준 충족
- [ ] 주요 브라우저에서 정상 작동

**품질 기준:**
- [ ] 크리티컬 버그 0건
- [ ] 보안 취약점 0건
- [ ] 성능 기준 충족

**배포 준비:**
- [ ] Vercel 배포 성공
- [ ] 프로덕션 환경 테스트 완료
- [ ] 환경 변수 안전하게 설정

### 12.2 기술 지표

**성능:**
- API 응답 시간 평균 1초 이내
- 페이지 로딩 시간 평균 2초 이내
- 프론트엔드 번들 크기 500KB 이하 (gzip)

**보안:**
- 인증되지 않은 사용자의 API 접근 차단율 100%
- 타 사용자 데이터 접근 시도 차단율 100%
- 비밀번호 암호화율 100%

**안정성:**
- 가동률 95% 이상
- API 에러율 5% 이하
- 데이터 무결성 유지율 100%

### 12.3 사용자 경험 지표

**기능성:**
- 회원가입 완료율 80% 이상
- 로그인 성공률 95% 이상 (올바른 자격증명)
- 할 일 생성 성공률 99% 이상

**사용성:**
- 모바일 사용 가능성 100%
- 주요 브라우저 호환성 100%
- 기한 경과 판단 정확도 100%

---

## 13. 테스트 계획 (Test Plan)

### 13.1 단위 테스트 (Unit Testing)

**백엔드:**
- [ ] 비밀번호 bcrypt 암호화 및 검증
- [ ] JWT 토큰 생성 및 검증
- [ ] 날짜 비교 로직 (기한 경과 판단)

**프론트엔드:**
- [ ] 날짜 포맷팅 함수
- [ ] 입력 유효성 검증 함수

### 13.2 통합 테스트 (Integration Testing)

- [ ] 회원가입 → 로그인 플로우
- [ ] 로그인 → 할 일 생성 → 조회 플로우
- [ ] 할 일 생성 → 수정 → 삭제 플로우
- [ ] 완료 처리 → 분리 표시 플로우
- [ ] JWT 인증 미들웨어 동작
- [ ] 사용자별 데이터 격리 검증

### 13.3 E2E 테스트 (End-to-End Testing)

**수동 테스트 시나리오:**

1. **회원가입 및 로그인**
   - [ ] 회원가입 성공
   - [ ] 중복 이메일 가입 실패
   - [ ] 잘못된 형식 이메일 실패
   - [ ] 로그인 성공
   - [ ] 잘못된 비밀번호 로그인 실패
   - [ ] 로그아웃 및 재로그인

2. **할 일 생성**
   - [ ] 제목만으로 할 일 생성
   - [ ] 제목 + 설명 + 마감일로 할 일 생성
   - [ ] 제목 없이 생성 시도 실패
   - [ ] 생성된 할 일이 목록에 표시됨

3. **할 일 조회 및 정렬**
   - [ ] 자신의 할 일만 조회됨
   - [ ] 기한 경과 할 일이 상단에 표시됨
   - [ ] 마감일 순으로 정렬됨
   - [ ] 완료된 할 일이 분리 표시됨

4. **할 일 수정**
   - [ ] 제목 수정
   - [ ] 설명 추가/수정
   - [ ] 마감일 변경
   - [ ] 수정 사항 즉시 반영

5. **할 일 삭제**
   - [ ] 삭제 확인 대화상자 표시
   - [ ] 삭제 후 목록에서 제거됨

6. **완료 처리**
   - [ ] 체크박스로 완료 전환
   - [ ] 완료된 항목 시각적 구분
   - [ ] 완료 섹션으로 이동
   - [ ] 다시 미완료로 전환 가능

7. **기한 경과 판단**
   - [ ] 과거 날짜 마감일이 기한 경과로 표시
   - [ ] 오늘 마감일이 오늘 할 일로 표시
   - [ ] 미래 마감일이 예정으로 표시
   - [ ] 완료된 할 일은 기한 경과 아님

### 13.4 보안 테스트

- [ ] SQL Injection 시도 (입력 필드에 SQL 쿼리)
- [ ] XSS 공격 시도 (입력 필드에 스크립트 태그)
- [ ] 인증 없이 API 접근 시도 (401 응답 확인)
- [ ] 다른 사용자의 Todo ID로 접근 시도 (403 응답 확인)
- [ ] 만료된 JWT 토큰 사용 시도
- [ ] JWT Secret 노출 여부 확인

### 13.5 성능 테스트

- [ ] 할 일 100개 로딩 시간 측정
- [ ] API 응답 시간 측정
- [ ] 페이지 로딩 시간 측정
- [ ] 모바일 네트워크 환경에서 테스트 (3G 시뮬레이션)

### 13.6 크로스 브라우저 테스트

**데스크탑:**
- [ ] Chrome (최신 버전)
- [ ] Firefox (최신 버전)
- [ ] Safari (최신 버전)
- [ ] Edge (최신 버전)

**모바일:**
- [ ] iOS Safari
- [ ] Android Chrome

### 13.7 반응형 테스트

- [ ] 모바일 (320px)
- [ ] 모바일 (375px - iPhone)
- [ ] 태블릿 (768px)
- [ ] 데스크탑 (1024px)
- [ ] 대형 화면 (1920px)

---

## 14. 인수 기준 (Acceptance Criteria)

본 섹션은 MVP 출시 전 반드시 충족되어야 하는 모든 인수 기준을 명시한다.

### 14.1 회원 가입 (FR-001)

- [ ] **AC-001-01:** 사용자는 유효한 이메일 형식을 입력하여 회원 가입할 수 있다
- [ ] **AC-001-02:** 비밀번호는 최소 8자 이상이어야 하며, 8자 미만 시 가입이 차단된다
- [ ] **AC-001-03:** 중복된 이메일로는 가입할 수 없으며, "이미 사용 중인 이메일입니다" 메시지가 표시된다
- [ ] **AC-001-04:** 잘못된 이메일 형식 입력 시 "유효한 이메일 주소를 입력하세요" 메시지가 표시된다
- [ ] **AC-001-05:** 가입 성공 시 자동으로 로그인 페이지로 리다이렉트된다
- [ ] **AC-001-06:** 이메일 또는 비밀번호 필드가 비어있으면 가입 버튼이 비활성화된다
- [ ] **AC-001-07:** 비밀번호는 데이터베이스에 bcrypt로 암호화되어 저장된다

---

### 14.2 로그인 (FR-002)

- [ ] **AC-002-01:** 사용자는 등록된 이메일과 비밀번호로 로그인할 수 있다
- [ ] **AC-002-02:** 올바른 자격증명 입력 시 JWT 토큰이 발급된다
- [ ] **AC-002-03:** 로그인 성공 시 할 일 목록 페이지(/todos)로 자동 이동한다
- [ ] **AC-002-04:** 잘못된 이메일 입력 시 "이메일 또는 비밀번호가 올바르지 않습니다" 메시지가 표시된다
- [ ] **AC-002-05:** 잘못된 비밀번호 입력 시 "이메일 또는 비밀번호가 올바르지 않습니다" 메시지가 표시된다
- [ ] **AC-002-06:** 로그인 상태는 브라우저를 닫아도 유지된다 (로컬스토리지 JWT 저장)
- [ ] **AC-002-07:** 로그아웃 버튼을 클릭하면 로그인 페이지로 이동하고 JWT 토큰이 삭제된다
- [ ] **AC-002-08:** 로그인하지 않은 사용자가 /todos 페이지 접근 시 로그인 페이지로 리다이렉트된다
- [ ] **AC-002-09:** 이미 로그인한 사용자가 로그인 페이지 접근 시 할 일 목록 페이지로 리다이렉트된다

---

### 14.3 할 일 생성 (FR-003)

- [ ] **AC-003-01:** 로그인한 사용자만 할 일을 생성할 수 있다
- [ ] **AC-003-02:** 제목은 필수 입력 항목이며, 비어있으면 생성이 차단된다
- [ ] **AC-003-03:** 제목은 최대 200자까지 입력 가능하다
- [ ] **AC-003-04:** 설명은 선택 입력 항목이며 최대 1000자까지 입력 가능하다
- [ ] **AC-003-05:** 마감일은 선택 항목이며 날짜 선택기(date picker)로 선택한다
- [ ] **AC-003-06:** 마감일은 오늘 또는 미래 날짜만 선택 가능하다 (과거 날짜 선택 불가)
- [ ] **AC-003-07:** 생성된 할 일은 자동으로 "미완료(Incomplete)" 상태로 설정된다
- [ ] **AC-003-08:** 생성 시점(created_at)이 자동으로 기록된다
- [ ] **AC-003-09:** 생성된 할 일은 즉시 목록에 표시된다
- [ ] **AC-003-10:** 생성 성공 후 입력 폼이 초기화된다 (제목, 설명, 마감일 비워짐)
- [ ] **AC-003-11:** 생성된 할 일은 현재 로그인한 사용자에게 소유권이 할당된다 (user_id 자동 설정)

---

### 14.4 할 일 조회 (FR-004)

- [ ] **AC-004-01:** 로그인한 사용자는 자신의 할 일만 조회할 수 있다
- [ ] **AC-004-02:** 다른 사용자의 할 일은 절대 조회되지 않는다
- [ ] **AC-004-03:** 각 할 일은 제목, 설명, 마감일, 완료 상태를 표시한다
- [ ] **AC-004-04:** 기한 경과(Overdue) 할 일은 목록 최상단에 표시된다
- [ ] **AC-004-05:** 기한 경과 할 일은 빨간색 계열로 시각적으로 강조된다
- [ ] **AC-004-06:** 마감일이 빠른 할 일이 위쪽에 표시된다 (오름차순 정렬)
- [ ] **AC-004-07:** 마감일이 없는 할 일은 마감일이 있는 할 일보다 아래에 표시된다
- [ ] **AC-004-08:** 마감일이 같은 경우 생성 시점이 빠른 할 일이 위에 표시된다
- [ ] **AC-004-09:** 완료된(Completed) 할 일은 미완료 목록과 분리되어 별도 섹션에 표시된다
- [ ] **AC-004-10:** 완료된 할 일은 회색으로 표시되고 제목에 취소선이 표시된다
- [ ] **AC-004-11:** 마감일이 없는 할 일은 "마감일 없음"으로 표시된다
- [ ] **AC-004-12:** 할 일이 없는 경우 "할 일이 없습니다" 메시지가 표시된다

---

### 14.5 할 일 수정 (FR-005)

- [ ] **AC-005-01:** 로그인한 사용자는 자신의 할 일만 수정할 수 있다
- [ ] **AC-005-02:** 다른 사용자의 할 일 수정 시도 시 "접근 권한이 없습니다" 오류가 발생한다 (403)
- [ ] **AC-005-03:** 제목, 설명, 마감일, 완료 상태를 수정할 수 있다
- [ ] **AC-005-04:** 제목을 빈 값으로 수정할 수 없다
- [ ] **AC-005-05:** 수정 시점(updated_at)이 자동으로 업데이트된다
- [ ] **AC-005-06:** 수정 사항은 저장 즉시 목록에 반영된다
- [ ] **AC-005-07:** 수정 중 취소 버튼을 누르면 변경사항이 무시되고 원래 값으로 유지된다
- [ ] **AC-005-08:** 완료된 할 일도 수정 가능하다
- [ ] **AC-005-09:** 마감일 수정 시 기한 경과 상태가 재계산되어 즉시 반영된다

---

### 14.6 할 일 삭제 (FR-006)

- [ ] **AC-006-01:** 로그인한 사용자는 자신의 할 일만 삭제할 수 있다
- [ ] **AC-006-02:** 다른 사용자의 할 일 삭제 시도 시 "접근 권한이 없습니다" 오류가 발생한다 (403)
- [ ] **AC-006-03:** 삭제 버튼 클릭 시 확인 대화상자가 표시된다
- [ ] **AC-006-04:** 확인 대화상자에는 "정말 삭제하시겠습니까?" 메시지가 표시된다
- [ ] **AC-006-05:** 확인 버튼 클릭 시 할 일이 데이터베이스에서 영구적으로 삭제된다
- [ ] **AC-006-06:** 취소 버튼 클릭 시 삭제가 취소되고 할 일이 유지된다
- [ ] **AC-006-07:** 삭제된 할 일은 복구할 수 없다
- [ ] **AC-006-08:** 삭제 후 목록이 즉시 업데이트되어 삭제된 항목이 사라진다
- [ ] **AC-006-09:** 완료된 할 일도 삭제 가능하다
- [ ] **AC-006-10:** 존재하지 않는 할 일 삭제 시도 시 "할 일을 찾을 수 없습니다" 오류가 발생한다 (404)

---

### 14.7 할 일 완료 처리 (FR-007)

- [ ] **AC-007-01:** 미완료(Incomplete) 할 일을 완료(Completed)로 전환할 수 있다
- [ ] **AC-007-02:** 완료(Completed) 할 일을 다시 미완료(Incomplete)로 전환할 수 있다
- [ ] **AC-007-03:** 체크박스 클릭으로 상태를 즉시 전환할 수 있다
- [ ] **AC-007-04:** 완료된 할 일은 제목에 취소선이 표시된다
- [ ] **AC-007-05:** 완료된 할 일은 회색으로 표시된다
- [ ] **AC-007-06:** 완료 상태 전환은 즉시 서버에 저장된다
- [ ] **AC-007-07:** 완료된 할 일은 미완료 목록에서 완료 섹션으로 즉시 이동한다
- [ ] **AC-007-08:** 미완료로 전환된 할 일은 완료 섹션에서 미완료 목록으로 즉시 이동한다
- [ ] **AC-007-09:** 완료된 할 일은 마감일과 관계없이 기한 경과(Overdue)로 표시되지 않는다
- [ ] **AC-007-10:** 완료 섹션은 접기/펼치기가 가능하다
- [ ] **AC-007-11:** 완료된 할 일의 수정 및 삭제도 가능하다

---

### 14.8 기한 경과 자동 판단 (FR-008)

- [ ] **AC-008-01:** 마감일이 오늘 이전이고 상태가 미완료인 할 일은 "기한 경과(Overdue)"로 표시된다
- [ ] **AC-008-02:** 마감일이 오늘이고 상태가 미완료인 할 일은 "오늘 할 일(Today)"로 표시된다
- [ ] **AC-008-03:** 마감일이 오늘 이후이고 상태가 미완료인 할 일은 "예정된 할 일(Upcoming)"로 표시된다
- [ ] **AC-008-04:** 마감일이 없는 할 일은 기한 경과로 표시되지 않는다
- [ ] **AC-008-05:** 완료된(Completed) 할 일은 마감일과 관계없이 기한 경과로 표시되지 않는다
- [ ] **AC-008-06:** 날짜 비교는 사용자의 로컬 날짜 기준으로 수행된다
- [ ] **AC-008-07:** 날짜는 YYYY-MM-DD 형식으로 처리되며 시간(HH:mm)은 무시된다
- [ ] **AC-008-08:** 페이지 새로고침 시 기한 경과 상태가 재계산되어 정확히 표시된다
- [ ] **AC-008-09:** 자정이 지나면 기한 경과 상태가 자동으로 업데이트된다 (페이지 새로고침 시)

---

### 14.9 비기능적 요구사항 인수 기준

#### 성능

- [ ] **AC-NFR-001:** 할 일 목록 조회 API 응답 시간은 2초 이내여야 한다
- [ ] **AC-NFR-002:** 할 일 생성/수정/삭제 API 응답 시간은 1초 이내여야 한다
- [ ] **AC-NFR-003:** 페이지 전환(라우팅) 시간은 1초 이내여야 한다
- [ ] **AC-NFR-004:** 페이지 초기 로딩 시간은 3초 이내여야 한다

#### 보안

- [ ] **AC-NFR-005:** 비밀번호는 bcrypt로 암호화되어 저장되어야 한다
- [ ] **AC-NFR-006:** 평문 비밀번호는 데이터베이스에 절대 저장되지 않는다
- [ ] **AC-NFR-007:** JWT Secret은 환경 변수로 관리되며 코드에 하드코딩되지 않는다
- [ ] **AC-NFR-008:** 모든 할 일 API 요청은 유효한 JWT 토큰을 포함해야 한다
- [ ] **AC-NFR-009:** 토큰이 없거나 유효하지 않은 요청은 401 Unauthorized로 거부된다
- [ ] **AC-NFR-010:** SQL Injection 공격이 방어된다 (파라미터화된 쿼리 사용)
- [ ] **AC-NFR-011:** XSS 공격이 방어된다 (입력값 이스케이프 처리)
- [ ] **AC-NFR-012:** 프로덕션 환경에서 HTTPS가 사용된다
- [ ] **AC-NFR-013:** 사용자는 자신의 데이터만 접근할 수 있다 (100% 격리)
- [ ] **AC-NFR-014:** 다른 사용자의 할 일 접근 시도는 403 Forbidden으로 차단된다

#### 사용성

- [ ] **AC-NFR-015:** 모바일 화면(320px)에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-016:** 태블릿 화면(768px)에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-017:** 데스크탑 화면(1024px 이상)에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-018:** 터치 타겟(버튼, 체크박스)은 최소 44x44px 크기를 가진다
- [ ] **AC-NFR-019:** 모든 입력 필드는 명확한 레이블을 가진다
- [ ] **AC-NFR-020:** 오류 메시지는 사용자가 이해할 수 있는 명확한 문구로 표시된다
- [ ] **AC-NFR-021:** 로딩 중일 때 로딩 인디케이터가 표시된다
- [ ] **AC-NFR-022:** 버튼 클릭 시 시각적 피드백(색상 변화, 비활성화)이 제공된다

#### 호환성

- [ ] **AC-NFR-023:** Chrome 최신 버전에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-024:** Firefox 최신 버전에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-025:** Safari 최신 버전에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-026:** Edge 최신 버전에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-027:** iOS Safari에서 모든 기능이 정상 작동한다
- [ ] **AC-NFR-028:** Android Chrome에서 모든 기능이 정상 작동한다

#### 데이터 무결성

- [ ] **AC-NFR-029:** 사용자 삭제 시 해당 사용자의 모든 할 일이 CASCADE로 함께 삭제된다
- [ ] **AC-NFR-030:** 제목 없는 할 일은 생성될 수 없다 (데이터베이스 제약)
- [ ] **AC-NFR-031:** 소유자 없는 할 일은 생성될 수 없다 (데이터베이스 제약)
- [ ] **AC-NFR-032:** 이메일 중복이 데이터베이스 레벨에서 방지된다 (UNIQUE 제약)

---

## 15. 향후 확장 계획 (Future Enhancements)

MVP 출시 후 고려할 수 있는 기능들:

### Phase 2 (MVP + 1개월)
1. **카테고리 및 태그** - 할 일을 그룹화하고 분류
2. **우선순위 레벨** - 높음/중간/낮음 우선순위 설정
3. **검색 기능** - 제목 및 설명 기반 검색

### Phase 3 (MVP + 3개월)
4. **반복 일정** - 매일, 매주, 매월 반복되는 할 일
5. **하위 할 일(Subtasks)** - 큰 할 일을 작은 단위로 분할
6. **필터링** - 마감일, 상태, 카테고리별 필터

### Phase 4 (MVP + 6개월)
7. **알림 및 리마인더** - 이메일 또는 푸시 알림
8. **협업 기능** - 할 일 공유 및 팀 관리
9. **통계 및 분석** - 생산성 대시보드, 완료율 그래프

### Phase 5 (장기 계획)
10. **첨부파일** - 파일 및 이미지 첨부
11. **댓글 및 메모** - 할 일에 대한 추가 정보
12. **다중 리스트** - 프로젝트별, 컨텍스트별 리스트 관리
13. **캘린더 뷰** - 월별/주별 캘린더 시각화
14. **음성 입력** - 음성으로 할 일 추가
15. **AI 추천** - 우선순위 자동 제안, 마감일 추천

---

## 16. 용어 정리 (Glossary)

**MVP (Minimum Viable Product)**
최소 기능 제품. 핵심 기능만 포함한 초기 버전.

**JWT (JSON Web Token)**
사용자 인증을 위한 토큰 기반 인증 방식.

**CRUD**
Create, Read, Update, Delete. 기본 데이터 조작 작업.

**Overdue**
기한 경과. 마감일이 지났지만 완료되지 않은 상태.

**Incomplete**
미완료. 아직 완료되지 않은 할 일의 상태.

**Completed**
완료. 수행이 완료된 할 일의 상태.

**Aggregate**
도메인 주도 설계(DDD)에서 트랜잭션 경계를 가지는 객체 그룹.

**Bounded Context**
도메인 주도 설계에서 특정 도메인 모델이 유효한 범위.

**Ubiquitous Language**
도메인 전문가와 개발자가 공유하는 공통 언어.

**bcrypt**
비밀번호 해싱을 위한 암호화 알고리즘.

**pg**
Node.js용 PostgreSQL 클라이언트 라이브러리.

---

## 17. 부록 (Appendix)

### 17.1 참조 문서
- **도메인 정의서:** `docs/1-domain-definition.md`
- **API 문서:** 본 문서 8장 참조
- **데이터 모델:** 본 문서 7장 참조

### 17.2 환경 변수 목록

**백엔드 (.env):**
```
DATABASE_URL=postgresql://username:password@localhost:5432/todolist
JWT_SECRET=your-secret-key-here
PORT=3001
NODE_ENV=production
```

**프론트엔드 (.env):**
```
REACT_APP_API_URL=https://your-backend-url.vercel.app/api
```

### 17.3 Vercel 배포 설정

**vercel.json (백엔드):**
```json
{
  "version": 2,
  "builds": [
    {
      "src": "server.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "server.js"
    }
  ]
}
```

### 17.4 데이터베이스 초기화 스크립트

**schema.sql:**
```sql
-- Users table
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_users_email ON users(email);

-- Todos table
CREATE TABLE todos (
  id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  title VARCHAR(200) NOT NULL,
  description TEXT,
  due_date DATE,
  is_completed BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_todos_user_id ON todos(user_id);
CREATE INDEX idx_todos_due_date ON todos(due_date);
CREATE INDEX idx_todos_is_completed ON todos(is_completed);
CREATE INDEX idx_todos_user_completed ON todos(user_id, is_completed);

-- Update updated_at timestamp trigger function
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = CURRENT_TIMESTAMP;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Apply trigger to users table
CREATE TRIGGER update_users_updated_at
BEFORE UPDATE ON users
FOR EACH ROW
EXECUTE FUNCTION update_updated_at_column();

-- Apply trigger to todos table
CREATE TRIGGER update_todos_updated_at
BEFORE UPDATE ON todos
FOR EACH ROW
EXECUTE FUNCTION update_updated_at_column();
```

### 17.5 Git 커밋 메시지 컨벤션

```
feat: 새로운 기능 추가
fix: 버그 수정
docs: 문서 수정
style: 코드 포맷팅, 세미콜론 누락 등
refactor: 코드 리팩토링
test: 테스트 코드 추가
chore: 빌드 설정, 패키지 업데이트 등
```

**예시:**
```
feat: 회원가입 API 구현
fix: 마감일 정렬 오류 수정
docs: PRD 문서 인수 기준 추가
```

---

## 18. 문서 승인 (Document Approval)

**승인 필요 인원:**
- [ ] 프로젝트 매니저
- [ ] 기술 리드 / 개발 리드
- [ ] UI/UX 디자이너 (해당 시)
- [ ] QA 리드 (해당 시)

**문서 이력:**

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0  | 2026-02-11 | Claude Code | 초안 작성, 인수 기준 통합 |

---

**문서 종료**
